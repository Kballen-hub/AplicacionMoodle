define("core_ai/policy",["exports","./repository"],(function(_exports,_repository){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0;return _exports.default=
/**
   * The Javascript module to handle the policy acceptance.
   *
   * @module     core_ai/policy
   * @copyright  2024 Andrew Lyons <andrew@nicols.co.uk>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
class{static#policyAcceptedFor={};static preconfigurePolicyState(userid,state){this.#policyAcceptedFor.hasOwnProperty(userid)||(this.#policyAcceptedFor[userid]=state)}static async getPolicyStatus(userid){if(this.#policyAcceptedFor[userid])return this.#policyAcceptedFor[userid];const accepted=await(0,_repository.getPolicyStatus)(userid);return this.#policyAcceptedFor[userid]=accepted.status,accepted.status}static acceptPolicy(){return this.#policyAcceptedFor[M.cfg.userId]=!0,(0,_repository.setPolicyStatus)(M.cfg.contextid)}},_exports.default}));

//# sourceMappingURL=policy.min.js.map