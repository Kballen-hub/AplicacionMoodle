define("mod_assign/bulkactions/grading/bulk_actions",["exports","core/bulkactions/bulk_actions","./general_action","./delete","./extend","./message","./setmarkingallocation","./setmarkingworkflowstate","core/templates","core/str"],(function(_exports,_bulk_actions,_general_action,_delete,_extend,_message,_setmarkingallocation,_setmarkingworkflowstate,_templates,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Class for defining the bulk actions area in the assignment grading page.
   *
   * @module     mod_assign/bulkactions/grading/bulk_actions
   * @copyright  2024 Shamim Rezaie <shamim@moodle.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_bulk_actions=_interopRequireDefault(_bulk_actions),_general_action=_interopRequireDefault(_general_action),_delete=_interopRequireDefault(_delete),_extend=_interopRequireDefault(_extend),_message=_interopRequireDefault(_message),_setmarkingallocation=_interopRequireDefault(_setmarkingallocation),_setmarkingworkflowstate=_interopRequireDefault(_setmarkingworkflowstate),_templates=_interopRequireDefault(_templates);const Selectors_selectBulkItemCheckbox='input[type="checkbox"][name="selectedusers"]',Selectors_selectBulkItemTrigger='input[type="checkbox"][name="selectedusers"], input[type="checkbox"][name="selectall"]';class _default extends _bulk_actions.default{#cmid;#extend;#grantAttempt;#markingAllocation;#message;#pluginOperations;#removeSubmission;#sesskey;#submissionDrafts;#workflowState;static init(options){return new this(options)}constructor(_ref){let{cmid:cmid,message:message,submissiondrafts:submissiondrafts,removesubmission:removesubmission,extend:extend,grantattempt:grantattempt,workflowstate:workflowstate,markingallocation:markingallocation,pluginoperations:pluginoperations,sesskey:sesskey}=_ref;super(),this.#cmid=cmid,this.#message=message,this.#submissionDrafts=submissiondrafts,this.#removeSubmission=removesubmission,this.#extend=extend,this.#grantAttempt=grantattempt,this.#workflowState=workflowstate,this.#markingAllocation=markingallocation,this.#sesskey=sesskey,this.#pluginOperations=pluginoperations}getBulkActions(){const actions=[new _general_action.default(this.#cmid,this.#sesskey,"lock",(0,_str.getString)("batchoperationlock","mod_assign"),_templates.default.renderPix("i/lock","core"),(0,_str.getString)("locksubmissions","mod_assign"),(0,_str.getString)("batchoperationconfirmlock","mod_assign"),(0,_str.getString)("batchoperationlock","mod_assign")),new _general_action.default(this.#cmid,this.#sesskey,"unlock",(0,_str.getString)("batchoperationunlock","mod_assign"),_templates.default.renderPix("i/unlock","core"),(0,_str.getString)("unlocksubmissions","mod_assign"),(0,_str.getString)("batchoperationconfirmunlock","mod_assign"),(0,_str.getString)("batchoperationunlock","mod_assign")),new _general_action.default(this.#cmid,this.#sesskey,"downloadselected",(0,_str.getString)("batchoperationdownloadselected","mod_assign"),_templates.default.renderPix("t/download","core"),(0,_str.getString)("downloadselectedsubmissions","mod_assign"),(0,_str.getString)("batchoperationconfirmdownloadselected","mod_assign"),(0,_str.getString)("batchoperationdownloadselected","mod_assign"))];this.#removeSubmission&&actions.push(new _delete.default(this.#cmid,this.#sesskey)),this.#extend&&actions.push(new _extend.default(this.#cmid,this.#sesskey)),this.#grantAttempt&&actions.push(new _general_action.default(this.#cmid,this.#sesskey,"addattempt",(0,_str.getString)("batchoperationaddattempt","mod_assign"),_templates.default.renderPix("t/add","core"),(0,_str.getString)("addattempt","mod_assign"),(0,_str.getString)("batchoperationconfirmaddattempt","mod_assign"),(0,_str.getString)("batchoperationaddattempt","mod_assign"))),this.#workflowState&&actions.push(new _setmarkingworkflowstate.default(this.#cmid,this.#sesskey)),this.#markingAllocation&&actions.push(new _setmarkingallocation.default(this.#cmid,this.#sesskey)),this.#submissionDrafts&&actions.push(new _general_action.default(this.#cmid,this.#sesskey,"reverttodraft",(0,_str.getString)("batchoperationreverttodraft","mod_assign"),_templates.default.renderPix("e/undo","core"),(0,_str.getString)("reverttodraft","mod_assign"),(0,_str.getString)("batchoperationconfirmreverttodraft","mod_assign"),(0,_str.getString)("batchoperationreverttodraft","mod_assign"))),this.#message&&actions.push(new _message.default);for(const operation of this.#pluginOperations)actions.push(new _general_action.default(this.#cmid,this.#sesskey,operation.key,operation.label,operation.icon,operation.confirmationtitle,operation.confirmationquestion));return actions}getSelectedItems(){return document.querySelectorAll(`${Selectors_selectBulkItemCheckbox}:checked`)}registerItemSelectChangeEvent(eventHandler){document.querySelectorAll(Selectors_selectBulkItemTrigger).forEach((checkbox=>{checkbox.addEventListener("change",eventHandler.bind(this))}))}deselectItem(selectedItem){selectedItem.checked=!1,selectedItem.closest("tr").classList.replace("selectedrow","unselectedrow")}}return _exports.default=_default,_exports.default}));

//# sourceMappingURL=bulk_actions.min.js.map