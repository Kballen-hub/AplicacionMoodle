{"version":3,"file":"acctoolbar.min.js","sources":["../src/acctoolbar.js"],"sourcesContent":["/**\n * https://github.com/mickidum/acc_toolbar\n */\ndefine([\"core/templates\"], function(Templates) {\n    return {\n        init: function() {\n            Templates.render('theme_degrade/settings/acctoolbar', {})\n                .then(function(html, js) {\n                    window.micAccessTool = new degrade_AccessTool(html);\n                })\n                .fail(function(ex) {\n\n                });\n        },\n    };\n});\n\nfunction degrade_AccessTool(html) {\n    this.init = {\n        link: \"\",\n        contact: \"\",\n        buttonPosition: \"right\",\n    };\n    if (this.buildToolBox(html)) {\n        this.toolBox = document.getElementById(\"mic-access-tool-box\");\n        this.toolBoxOpenButton = document.getElementById(\"mic-access-tool-general-button\");\n        this.toolBoxCloseButton = document.getElementById(\"mic-access-tool-box-close-button\");\n        this.toolBoxOpenButton.addEventListener(\"click\", this.openBox.bind(this));\n        this.toolBoxCloseButton.addEventListener(\"click\", this.closeBox.bind(this));\n        document.addEventListener(\"keyup\", this.openCloseBoxKeyboard.bind(this));\n        this.micContrastMonochrome = document.getElementById(\"mic-toolbox-contrast-monochrome\");\n        this.micContrastSoft = document.getElementById(\"mic-toolbox-contrast-soft\");\n        this.micContrastHard = document.getElementById(\"mic-toolbox-contrast-hard\");\n        this.micContrastMonochrome.addEventListener(\"click\", this.contrastChange);\n        this.micContrastSoft.addEventListener(\"click\", this.contrastChange);\n        this.micContrastHard.addEventListener(\"click\", this.contrastChange);\n        this.micDisableButtonsAnimations = document.getElementById(\"mic-toolbox-disable-buttons-animations\");\n        this.micDisableButtonsAnimations.addEventListener(\"click\", this.onceButtonChange);\n        this.micdyslexic = document.getElementById(\"mic-dyslexic-buttons\");\n        this.micdyslexic.addEventListener(\"click\", this.onceButtonChange);\n        this.micDisableButtonsKeyboard = document.getElementById(\"mic-toolbox-disable-buttons-keyboard\");\n        this.micDisableButtonsKeyboard.addEventListener(\"click\", this.onceButtonChange);\n        this.micToolboxFontsUp = document.getElementById(\"mic-toolbox-fonts-up\");\n        this.micToolboxFontsDown = document.getElementById(\"mic-toolbox-fonts-down\");\n        this.micToolboxFontsSimple = document.getElementById(\"mic-toolbox-fonts-simple\");\n        this.micToolboxFontsUp.addEventListener(\"click\", this.fontsChange);\n        this.micToolboxFontsDown.addEventListener(\"click\", this.fontsChange);\n        this.micToolboxFontsSimple.addEventListener(\"click\", this.onceButtonChange);\n        this.micToolboxContentLinks = document.getElementById(\"mic-toolbox-content-links\");\n        this.micToolboxContentHeaders = document.getElementById(\"mic-toolbox-content-headers\");\n        this.micToolboxContentImages = document.getElementById(\"mic-toolbox-content-images\");\n        this.micToolboxContentLinks.addEventListener(\"click\", this.onceButtonChange);\n        this.micToolboxContentHeaders.addEventListener(\"click\", this.onceButtonChange);\n        this.micToolboxContentImages.addEventListener(\"click\", this.onceButtonChange);\n        this.micToolboxCursorWhite = document.getElementById(\"mic-toolbox-cursor-big-white\");\n        this.micToolboxCursorBlack = document.getElementById(\"mic-toolbox-cursor-big-black\");\n        this.micToolboxZoomUp = document.getElementById(\"mic-toolbox-zoom-up\");\n        this.micToolboxCursorWhite.addEventListener(\"click\", this.cursorChange);\n        this.micToolboxCursorBlack.addEventListener(\"click\", this.cursorChange);\n        this.micToolboxZoomUp.addEventListener(\"click\", this.onceButtonChange);\n        this.micToolboxDisableButtonsAll = document.getElementById(\"mic-toolbox-disable-buttons-reset-all\");\n        this.micToolboxDisableButtonsAll.addEventListener(\"click\", this.resetApp.bind(this));\n    }\n    this.initialApp();\n}\n\ndegrade_AccessTool.prototype.initialApp = function() {\n\n    window.degrade_toolboxAppstate = JSON.parse(localStorage.getItem('degrade_ACCESSTOOL')) || {\n        bodyClassList: {},\n        fontSize: 1,\n        imagesTitle: false,\n        keyboardRoot: false,\n        initFontSize: false\n    };\n\n    const iframe = document.querySelector(\"iframe.h5p-initialized\");\n    if (iframe) {\n        const cssLink = iframe.contentDocument.createElement(\"link\");\n        cssLink.rel = \"stylesheet\";\n        cssLink.href = `${M.cfg.wwwroot}/theme/degrade/style/style-h5p.css`;\n        cssLink.type = \"text/css\";\n        iframe.contentDocument.head.appendChild(cssLink);\n\n        this.initialApp_iframe(iframe);\n    }\n\n    // INIT ADDING CLASSES TO BODY\n    if (window.degrade_toolboxAppstate.bodyClassList) {\n\n        for (var bodyClass in window.degrade_toolboxAppstate.bodyClassList) {\n            var initBodyClassList = window.degrade_toolboxAppstate.bodyClassList[bodyClass];\n            var enabledButton = document.getElementById(initBodyClassList);\n            if (enabledButton) {\n                enabledButton.classList.add('vi-enabled');\n            }\n            document.body.classList.add(initBodyClassList);\n        }\n    }\n\n    // FONT SIZE INIT\n    if (window.degrade_toolboxAppstate.fontSize > 1) {\n        this.initFontsChange();\n    }\n\n    // SET IMAGES TITLES\n    if (window.degrade_toolboxAppstate.imagesTitle) {\n        this.imagesAddTitles();\n    }\n\n    // SET KEBOARD ROOTING\n    if (window.degrade_toolboxAppstate.keyboardRoot) {\n        this.keyboardRootEnable();\n    }\n    if (this.init.buttonPosition === 'right') {\n        var button = document.getElementById('mic-access-tool-general-button');\n        if (button) {\n            document.getElementById('mic-access-tool-general-button').classList.add('mic-access-tool-general-button-right');\n            document.getElementById('mic-access-tool-box').classList.add('mic-access-tool-box-right');\n        }\n    }\n};\n\ndegrade_AccessTool.prototype.initialApp_iframe = function(iframe) {\n    setInterval(function() {\n        var appstate = JSON.parse(localStorage.getItem('degrade_ACCESSTOOL')) || {\n            bodyClassList: false\n        };\n\n        iframe.contentDocument.body.classList = [];\n        if (appstate.bodyClassList) {\n            for (var bodyClass in appstate.bodyClassList) {\n                var initBodyClassList = appstate.bodyClassList[bodyClass];\n                iframe.contentDocument.body.classList.add(initBodyClassList);\n            }\n        }\n    }, 2000);\n};\n\ndegrade_AccessTool.prototype.buildToolBox = function(html) {\n    if (document.querySelector(\"body.pagelayout-embedded\")) {\n        return false;\n    }\n\n    var i = document.createElement(\"div\");\n    i.id = \"mic-init-access-tool\";\n    i.innerHTML = html;\n    document.body.insertBefore(i, document.body.firstChild);\n\n    return true;\n};\n\n// CONTRAST FUNCTION\ndegrade_AccessTool.prototype.contrastChange = function(event) {\n    event.preventDefault();\n\n    if (document.body.classList.contains(this.id)) {\n        this.classList.remove('vi-enabled');\n        document.body.classList.remove(this.id);\n\n        delete window.degrade_toolboxAppstate.bodyClassList[this.id];\n    }\n    else {\n        var buttons = document.querySelectorAll('.mic-contrast-block button');\n        for (var i = 0; i < buttons.length; i++) {\n            buttons[i].classList.remove('vi-enabled');\n            document.body.classList.remove(buttons[i].id);\n\n            delete window.degrade_toolboxAppstate.bodyClassList[buttons[i].id];\n        }\n        this.classList.add('vi-enabled');\n        document.body.classList.add(this.id);\n\n        window.degrade_toolboxAppstate.bodyClassList[this.id] = this.id;\n    }\n    degrade_AccessTool.prototype.updateState();\n};\n\n// CURSOR CHANGE\ndegrade_AccessTool.prototype.cursorChange = function(event) {\n    event.preventDefault();\n\n    if (document.body.classList.contains(this.id)) {\n        this.classList.remove('vi-enabled');\n        document.body.classList.remove(this.id);\n        delete window.degrade_toolboxAppstate.bodyClassList[this.id];\n    }\n    else {\n        var buttons = document.querySelectorAll('#mic-toolbox-cursor-big-black,#mic-toolbox-cursor-big-white');\n        for (var i = 0; i < buttons.length; i++) {\n            buttons[i].classList.remove('vi-enabled');\n            document.body.classList.remove(buttons[i].id);\n\n            delete window.degrade_toolboxAppstate.bodyClassList[buttons[i].id];\n        }\n        this.classList.add('vi-enabled');\n        document.body.classList.add(this.id);\n\n        window.degrade_toolboxAppstate.bodyClassList[this.id] = this.id;\n    }\n    degrade_AccessTool.prototype.updateState();\n};\n\ndegrade_AccessTool.prototype.onceButtonChange = function(event) {\n    event.preventDefault();\n\n    if (this.id === 'mic-toolbox-disable-buttons-keyboard') {\n        window.degrade_toolboxAppstate.keyboardRoot = !window.degrade_toolboxAppstate.keyboardRoot;\n        degrade_AccessTool.prototype.keyboardRootEnable();\n    }\n\n    if (this.id === 'mic-toolbox-content-images') {\n        degrade_AccessTool.prototype.imagesChange();\n    }\n\n    if (document.body.classList.contains(this.id)) {\n        this.classList.remove('vi-enabled');\n        document.body.classList.remove(this.id);\n\n        delete window.degrade_toolboxAppstate.bodyClassList[this.id];\n    }\n    else {\n        this.classList.add('vi-enabled');\n        document.body.classList.add(this.id);\n\n        window.degrade_toolboxAppstate.bodyClassList[this.id] = this.id;\n    }\n    degrade_AccessTool.prototype.updateState();\n};\n\ndegrade_AccessTool.prototype.keyboardRootEnable = function() {\n    if (window.degrade_toolboxAppstate.keyboardRoot) {\n        var headers = document.querySelectorAll('h1,h2,h3,h4,h5,h6,p,a,button,input,select,textarea');\n        for (var i = 0; i < headers.length; i++) {\n            var item = headers[i];\n            item.tabIndex = i + 1;\n        }\n    }\n    else {\n        window.location.reload();\n    }\n};\n\n// FONTS CHANGE\ndegrade_AccessTool.prototype.fontsChange = function(event) {\n    event.preventDefault();\n\n    // var mainBody = Number(document.body.style.fontSize.split('px')[0]);\n\n    var counter = window.degrade_toolboxAppstate.fontSize;\n\n    if (this.id === 'mic-toolbox-fonts-up') {\n        if (counter >= 1.6) {\n            return;\n        }\n        var items = document.querySelectorAll('body,h1,h2,h3,h4,h5,h6,p,a,button,input,textarea,li,td,th,strong,span,blockquote,div');\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var font = window.getComputedStyle(item).getPropertyValue('font-size').split('px');\n            var fontSize = Number(font[0]);\n            item.style.fontSize = (fontSize * 1.1).toFixed() + 'px';\n        }\n        counter = (counter * 1.1).toFixed(2);\n    }\n    if (this.id === 'mic-toolbox-fonts-down') {\n        if (counter <= 1) {\n            window.degrade_toolboxAppstate.fontSize = 1;\n            degrade_AccessTool.prototype.updateState();\n            return;\n        }\n        var items = document.querySelectorAll('body,h1,h2,h3,h4,h5,h6,p,a,button,input,textarea,li,td,th,strong,span,blockquote,div');\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            var font = window.getComputedStyle(item).getPropertyValue('font-size').split('px');\n            var fontSize = Number(font[0]);\n            item.style.fontSize = (fontSize / 1.1).toFixed() + 'px';\n        }\n        counter = (counter / 1.1).toFixed(2);\n    }\n\n    window.degrade_toolboxAppstate.fontSize = counter;\n    degrade_AccessTool.prototype.getFontsChanges(counter);\n    degrade_AccessTool.prototype.updateState();\n\n};\n\n// INITIAL FONT SIZE\ndegrade_AccessTool.prototype.initFontsChange = function() {\n    var items = document.querySelectorAll('body,h1,h2,h3,h4,h5,h6,p,a,button,input,textarea,li,td,th,strong,span,blockquote,div');\n    var initFontSize = window.degrade_toolboxAppstate.fontSize;\n    for (var i = 0; i < items.length; i++) {\n        var item = items[i];\n        var font = window.getComputedStyle(item).getPropertyValue('font-size');\n        item.style.fontSize = font;\n        var fs = item.style.fontSize.split('px');\n    }\n    for (var i = 0; i < items.length; i++) {\n        var item = items[i];\n        var font = window.getComputedStyle(item).getPropertyValue('font-size').split('px');\n        var fs = Number(font[0]);\n        item.style.fontSize = (fs * initFontSize).toFixed() + 'px';\n    }\n    if (initFontSize) {\n        this.getFontsChanges(initFontSize);\n    }\n};\n\ndegrade_AccessTool.prototype.initFontsChangeFirst = function() {\n    var items = document.querySelectorAll('body,h1,h2,h3,h4,h5,h6,p,a,button,input,textarea,li,td,th,strong,span,blockquote,div');\n    for (var i = 0; i < items.length; i++) {\n        var item = items[i];\n        var font = window.getComputedStyle(item).getPropertyValue('font-size');\n        item.style.fontSize = font;\n        var fs = item.style.fontSize.split('px');\n    }\n};\n\ndegrade_AccessTool.prototype.getFontsChanges = function(initFontSize) {\n    if (initFontSize > 1) {\n        document.getElementById('mic-toolbox-fonts-up').classList.add('vi-font-enabled');\n        var initPerc = (Number(initFontSize) * 100 - 100).toFixed();\n        var perc = '+' + initPerc + '%';\n        document.getElementById('mic-toolbox-fonts-up-enabled').textContent = perc;\n    }\n    else {\n        document.getElementById('mic-toolbox-fonts-up').classList.remove('vi-font-enabled');\n        document.getElementById('mic-toolbox-fonts-up-enabled').textContent = '';\n    }\n};\n\n// IMAGES CHANGE\ndegrade_AccessTool.prototype.imagesChange = function() {\n\n    if (document.body.classList.contains('mic-toolbox-content-images')) {\n\n        var titles = document.querySelectorAll('.mic-toolbox-images-titles');\n        for (var i = 0; i < titles.length; i++) {\n            var parent = titles[i].parentElement;\n            parent.removeChild(titles[i]);\n        }\n        window.degrade_toolboxAppstate.imagesTitle = false;\n    }\n\n    else {\n        this.imagesAddTitles();\n        window.degrade_toolboxAppstate.imagesTitle = true;\n    }\n};\n\ndegrade_AccessTool.prototype.imagesAddTitles = function() {\n\n    var images = document.images;\n    for (var i = 0; i < images.length; i++) {\n        var img = images[i];\n        if (img.alt) {\n            var title = document.createElement('span');\n            title.className = 'mic-toolbox-images-titles';\n            title.textContent = img.alt;\n            img.parentNode.insertBefore(title, img);\n        }\n        else {\n            var title = document.createElement('span');\n            title.className = 'mic-toolbox-images-titles';\n            title.textContent = 'image without text';\n            img.parentNode.insertBefore(title, img);\n        }\n    }\n\n};\n\ndegrade_AccessTool.prototype.updateState = function() {\n    var jsonSting = JSON.stringify(window.degrade_toolboxAppstate);\n    if (typeof(Storage) !== \"undefined\") {\n        localStorage.setItem('degrade_ACCESSTOOL', jsonSting);\n    } else {\n        console.log('No Storage Found');\n    }\n};\n\n\ndegrade_AccessTool.prototype.openBox = function(event) {\n    this.toolBox.classList.add('opened-mic-access-tool');\n    if (!window.degrade_toolboxAppstate.initFontSize || window.degrade_toolboxAppstate.fontSize <= 1) {\n        this.initFontsChangeFirst();\n        window.degrade_toolboxAppstate.initFontSize = true;\n    }\n    this.toolBoxCloseButton.focus();\n};\n\ndegrade_AccessTool.prototype.closeBox = function(event) {\n    this.toolBox.classList.remove('opened-mic-access-tool');\n};\n\ndegrade_AccessTool.prototype.openCloseBoxKeyboard = function(event) {\n    if (event.keyCode == 27) {\n        this.closeBox();\n    }\n    if (event.ctrlKey && event.keyCode == 113) {\n        this.openBox();\n    }\n};\n\ndegrade_AccessTool.prototype.resetApp = function(event) {\n    localStorage.removeItem('degrade_ACCESSTOOL');\n    window.location.reload();\n};\n"],"names":["degrade_AccessTool","html","init","link","contact","buttonPosition","this","buildToolBox","toolBox","document","getElementById","toolBoxOpenButton","toolBoxCloseButton","addEventListener","openBox","bind","closeBox","openCloseBoxKeyboard","micContrastMonochrome","micContrastSoft","micContrastHard","contrastChange","micDisableButtonsAnimations","onceButtonChange","micdyslexic","micDisableButtonsKeyboard","micToolboxFontsUp","micToolboxFontsDown","micToolboxFontsSimple","fontsChange","micToolboxContentLinks","micToolboxContentHeaders","micToolboxContentImages","micToolboxCursorWhite","micToolboxCursorBlack","micToolboxZoomUp","cursorChange","micToolboxDisableButtonsAll","resetApp","initialApp","define","Templates","render","then","js","window","micAccessTool","fail","ex","prototype","degrade_toolboxAppstate","JSON","parse","localStorage","getItem","bodyClassList","fontSize","imagesTitle","keyboardRoot","initFontSize","iframe","querySelector","cssLink","contentDocument","createElement","rel","href","M","cfg","wwwroot","type","head","appendChild","initialApp_iframe","bodyClass","initBodyClassList","enabledButton","classList","add","body","initFontsChange","imagesAddTitles","keyboardRootEnable","setInterval","appstate","i","id","innerHTML","insertBefore","firstChild","event","preventDefault","contains","remove","buttons","querySelectorAll","length","updateState","imagesChange","headers","tabIndex","location","reload","counter","items","item","font","getComputedStyle","getPropertyValue","split","Number","style","toFixed","getFontsChanges","fs","initFontsChangeFirst","perc","textContent","titles","parentElement","removeChild","images","title","img","alt","className","parentNode","jsonSting","stringify","Storage","setItem","console","log","focus","keyCode","ctrlKey","removeItem"],"mappings":"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"}